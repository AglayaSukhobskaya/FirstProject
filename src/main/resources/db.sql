drop table if exists book;
drop table if exists person;

create table person
(
    id   int generated by default as identity primary key,
    name varchar(30) not null unique,
    year int check (year > 1000)
    );

create table book
(
    id        int generated by default as identity primary key,
    person_id int          references person (id) on delete set null,
    name      varchar(100) not null,
    author    varchar(30)  not null,
    year      int check (year > 900)
    );

INSERT INTO person(name, year)
VALUES ('Kate Blanchett', 1969);
INSERT INTO person(name, year)
VALUES ('Kevin Costner', 1955);
INSERT INTO person(name, year)
VALUES ('Jim Carrey', 1962);
INSERT INTO person(name, year)
VALUES ('Emma Watson', 1990);
INSERT INTO person(name, year)
VALUES ('Bred Pitt', 1963);

INSERT INTO book(name, author, year)
VALUES ('Evening in Byzantium', 'Irwin Shaw', 1973);
INSERT INTO book(name, author, year)
VALUES ('Martin Eden', 'Jack London', 1909);
INSERT INTO book(name, author, year)
VALUES ('An American Tragedy', 'Theodore Dreiser', 1925);
INSERT INTO book(name, author, year)
VALUES ('The Grapes of Wrath', 'John Steinbeck', 1939);
INSERT INTO book(name, author, year)
VALUES ('Of Human Bondage', 'Somerset Maugham', 1915);